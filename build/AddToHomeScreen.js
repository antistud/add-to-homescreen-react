!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["add-to-homescreen-react"]=t():e["add-to-homescreen-react"]=t()}(self,(()=>(()=>{"use strict";var e={84:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(81),o=n.n(a),s=n(645),i=n.n(s)()(o());i.push([e.id,".ath-container{background-color:#eeeeee;color:#000000;display:none;position:sticky;width:100%;bottom:0;z-index:1000;padding:2%}@media (min-width: 768px){.ath-container{padding:0.5%;max-width:530px;margin:auto;width:75%}}@media (min-width: 1048px){.ath-container{width:100%;position:fixed;right:0}}.ath-banner{display:grid;grid-template-areas:'logo content' 'cancel install';position:relative;grid-template-columns:1fr 3fr;grid-gap:1em}.ath-banner-cell{align-items:center}.ath-logo-cell{text-align:center;grid-area:logo}.ath-title-cell{align-self:center;grid-area:content}.ath-install-cell{text-align:right;grid-area:install}.ath-install-cell .btn{display:unset}.ath-cancel-cell{grid-area:cancel}.ath-guidance{display:none;grid-template-areas:'cancel' 'image';position:relative}.ath-guidance .ath-cancel-cell{grid-area:cancel;text-align:right}.ath-guidance-image-cell{grid-area:image;text-align:center}.btn-guidance-cancel{cursor:pointer;border:0;padding:2px}.ath-prompt-logo{border-radius:30px;border:1px solid black}.ath-banner-title{font-weight:bold;font-size:large}.d-grid{display:grid !important}.d-none{display:none !important}\n",""]);const l=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,o,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var l=0;l<this.length;l++){var r=this[l][0];null!=r&&(i[r]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);a&&i[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var s={},i=[],l=0;l<e.length;l++){var r=e[l],c=a.base?r[0]+a.base:r[0],d=s[c]||0,m="".concat(c," ").concat(d);s[c]=d+1;var u=n(m),p={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var g=o(p,a);a.byIndex=l,t.splice(l,0,{identifier:m,updater:g,references:1})}i.push(m)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var s=a(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var l=n(s[i]);t[l].references--}for(var r=a(e,o),c=0;c<s.length;c++){var d=n(s[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=r}}},569:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,o&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={id:a,exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var a={};return(()=>{n.r(a),n.d(a,{default:()=>P});const e=require("prop-types");var t=n.n(e);const o=require("react");var s=n.n(o),i=n(379),l=n.n(i),r=n(795),c=n.n(r),d=n(569),m=n.n(d),u=n(565),p=n.n(u),g=n(216),f=n.n(g),h=n(589),C=n.n(h),b=n(84),v={};v.styleTagTransform=C(),v.setAttributes=p(),v.insert=m().bind(null,"head"),v.domAPI=c(),v.insertStyleElement=f(),l()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals;const y=JSON.parse('{"appId":"add-to-homescreen-react","debug":false,"activateLogging":false,"startAutomatically":true,"skipFirstVisit":false,"minPageViews":0,"startDelay":1,"lifespan":15,"displayPace":1440,"mustShowCustomPrompt":false,"maxDisplayCount":0,"validLocation":[],"onInit":null,"onShow":null,"onAdd":null,"onInstall":null,"onCancel":null,"showClasses":["animated","d-grid"],"showClass":"d-grid","hideClass":"d-none","customCriteria":null,"customPromptContent":{},"customPromptElements":{"container":"ath-container","containerAddOns":"banner-bottom-center","banner":"ath-banner","bannerAddOns":"","logoCell":"ath-logo-cell","logoCellAddOns":"ath-banner-cell","logo":"ath-prompt-logo","logoAddOns":"","titleCell":"ath-title-cell","titleCellAddOns":"ath-banner-cell","title":"ath-banner-title","titleAddOns":"","cancelButtonCell":"ath-cancel-cell","cancelButtonCellAddOns":"ath-banner-cell","cancelButton":"btn-cancel","cancelButtonAddOns":"btn btn-link","installButtonCell":"ath-install-cell","installButtonCellAddOns":"ath-banner-cell","installButton":"btn-install","installButtonAddOns":"btn btn-success","guidance":"ath-guidance","guidanceAddOns":"","guidanceImageCell":"ath-guidance-image-cell","guidanceImageCellAddOns":"ath-banner-cell","guidanceCancelButton":"btn-guidance-cancel","guidanceCancelButtonAddOns":"btn btn-link"},"customPromptPlatformDependencies":{"native":{"showClasses":["fadeInUp","right-banner"],"images":[{"src":"images/guidance/chromium.png","alt":"Guide to install application on home screen."}]},"edge":{"showClasses":["edge-wrapper","animated","fadeIn","d-block","right-banner"],"images":[{"src":"images/guidance/chromium.png","alt":"Guide to install application on home screen."}]},"chromium":{"showClasses":["chromium-wrapper","animated","fadeIn","d-block","right-banner"],"images":[{"src":"images/guidance/chromium.png","alt":"Guide to install application on home screen."}]},"iphone":{"showClasses":["iphone-wrapper","animated","fadeIn","d-block"],"images":[{"src":"images/guidance/iphone.png","alt":"Guide to install application on home screen."}]},"ipad":{"showClasses":["ipad-wrapper","animated","fadeIn","d-block"],"images":[{"src":"images/guidance/ipad.png","alt":"Guide to install application on home screen."}]},"firefox":{"showClasses":["firefox-wrapper","animated","fadeIn","d-block"],"images":[{"src":"images/guidance/firefox.png","alt":"Guide to install application on home screen."}]},"samsung":{"showClasses":["samsung-wrapper","animated","fadeIn","d-block"],"images":[{"src":"images/guidance/firefox.png","alt":"Guide to install application on home screen."}]},"opera":{"showClasses":["opera-home-screen-wrapper","animated","fadeIn","d-block"],"images":[{"src":"images/guidance/opera.png","alt":"Guide to install application on home screen."}]}}}');function P(e){const t={title:"Do you want to install this application on your homescreen?",cancelMsg:"Not now",installMsg:"Install",guidanceCancelMsg:"Close",src:"images/logos/default/StoreLogo.png"},n={lastDisplayTime:0,returningVisitor:!1,displayCount:0,optedOut:!1,added:!1,pageViews:0};let a=function(){let t=Object.assign({},y,e);t.customPromptContent=Object.assign({},y.customPromptContent,e.customPromptContent),t.customPromptElements=Object.assign({},y.customPromptElements,e.customPromptElements),t.customPromptPlatformDependencies=Object.assign({},y.customPromptPlatformDependencies,e.customPromptPlatformDependencies);for(let n in y.customPromptPlatformDependencies)y.customPromptPlatformDependencies.hasOwnProperty(n)&&(e.customPromptPlatformDependencies?t.customPromptPlatformDependencies[n]=Object.assign({},y.customPromptPlatformDependencies[n],e.customPromptPlatformDependencies[n]):t.customPromptPlatformDependencies[n]=y.customPromptPlatformDependencies[n]);return t}();f(`final configuration: ${JSON.stringify(a)}`);let i,l,r,c={},d={},m=[],u=!1,p=!1;function g(e){e||(f("no service worker"),d.isCompatible=!1),f("service worker found - increasing page views"),c.pageViews+=1,h(),a&&a.debug&&void 0===a.activateLogging&&(a.activateLogging=!0),a.debug&&(d.isCompatible=!0),a.onInit&&a.onInit.call(this),f("decide to show: autoStart: "+a.startAutomatically+" ### beforeInstallPromptEvent: "+l+" ### showNativePrompt: "+p),a.startAutomatically&&l?(f("autoStart - displaying call-out"),P()):p?f("did decide to show nothing"):(f("not showing native prompt - displaying call-out"),P())}function f(e){a.activateLogging&&console.log("Add to Homescreen: "+e)}function h(){window.localStorage.setItem(a.appId,JSON.stringify(c))}function C(e){return a.debug&&"string"==typeof a.debug||d.isChromium&&void 0===e?"native":d.isFireFox?"firefox":d.isiPad?"ipad":d.isiPhone?"iphone":d.isOpera?"opera":d.isSamsung?"samsung":d.isEdge?"edge":d.isChromium?"chromium":""}function b(e){e.preventDefault(),f("capturing the native A2HS prompt"),l=e,v()}function v(){setTimeout(w,1e3*a.startDelay+500)}function P(){u?f("not displaying call-out because already shown on screen"):(u=!0,"interactive"===document.readyState||"complete"===document.readyState?v():document.onreadystatechange=function(){"complete"===document.readyState&&v()})}function w(){if(function(){if(void 0!==i)return f("canPrompt() already evaluated: "+i.toString()),i;if(i=!1,null!==a.customCriteria&&!("function"==typeof a.customCriteria?a.customCriteria():a.customCriteria))return f("not displaying call-out because a custom criteria was not met."),!1;if(!("serviceWorker"in navigator))return f("not displaying call-out because service workers are not supported"),!1;if(!d.isCompatible)return f("not displaying call-out because device not supported"),f("platform: "+JSON.stringify(d)),!1;if(Date.now()-c.lastDisplayTime<6e4*a.displayPace)return f("not displaying call-out because displayed recently"),!1;if(a.maxDisplayCount&&c.displayCount>=a.maxDisplayCount)return f("not displaying call-out because displayed too many times already"),!1;let e=!a.validLocation.length;for(let t=a.validLocation.length;t--;)if(a.validLocation[t].test(document.location.href)){e=!0;break}if(!e)return f("not displaying call-out because not a valid location"),!1;let t=!1;for(let e=m.length;e--;)if(document.location.href.indexOf(m[e])>-1){t=!0;break}return t?(f("not displaying call-out because this is a guidance URL"),!1):c.pageViews<a.minPageViews?(f("not displaying call-out because not enough visits"),!1):c.optedOut?(f("not displaying call-out because user opted out"),!1):c.added?(f("not displaying call-out because already added to the home screen"),!1):d.isStandalone?(c.added||(c.added=!0,h(),a.onAdd&&a.onAdd.call(this)),f("not displaying call-out because in standalone mode"),!1):!c.returningVisitor&&(c.returningVisitor=!0,h(),a.skipFirstVisit)?(f("not displaying call-out because skipping first visit"),!1):(i=!0,!0)}()){if(l&&!a.mustShowCustomPrompt)f("show native prompt"),O();else{let e=C(),n=document.querySelector(`.${a.customPromptElements.container}`);if(f(`show generic prompt for platform ${e}`),n&&!c.optedOut){n.classList.remove(a.hideClass);let o=Object.assign({},t,a.customPromptContent,a.customPromptPlatformDependencies[e]);o.showClasses?o.showClasses=o.showClasses.concat(a.showClasses):o.showClasses=a.showClasses;for(let e=0;e<o.showClasses.length;e++)n.classList.add(o.showClasses[e]);let s=n.querySelector(`.${a.customPromptElements.title}`),i=n.querySelector(`.${a.customPromptElements.logo}`),l=n.querySelector(`.${a.customPromptElements.cancelButton}`),r=n.querySelector(`.${a.customPromptElements.installButton}`);s&&o.title&&(s.innerText=o.title),i&&(o.src?(i.src=o.src,i.alt=o.title||"Install application"):i.remove()),r&&(r.addEventListener("click",S),r.classList.remove(a.hideClass),r.innerText=null!=o.installMsg?o.installMsg:o.action&&o.action.ok?o.action.ok:""),l&&(l.addEventListener("click",E),l.classList.remove(a.hideClass),l.innerText=null!=o.cancelMsg?o.cancelMsg:o.action&&o.action.cancel?o.action.cancel:"")}a.lifespan&&a.lifespan>0&&(r=setTimeout(x,1e3*a.lifespan))}a.onShow&&a.onShow.call(this),c.lastDisplayTime=Date.now(),c.displayCount++,h()}}function O(){return l.prompt().then((function(){return l.userChoice})).then((function(e){c.added="accepted"===e.outcome,c.added?(f("user accepted the A2HS prompt"),a.onAdd&&a.onAdd()):(a.onCancel&&a.onCancel(),c.optedOut=!0,f("user dismissed the A2HS prompt")),h(),l=null})).catch((function(e){if(f(e.message),e.message.indexOf("user gesture")>-1)a.mustShowCustomPrompt=!0,v();else{if(!(e.message.indexOf("The app is already installed")>-1))return f(e),e;f(e.message),c.added=!0,h()}}))}function E(e){return e.preventDefault(),a.onCancel&&a.onCancel(),A(),!1}function A(){let e=document.querySelector(`.${a.customPromptElements.container}`);if(e){let t=C(),n=a.customPromptPlatformDependencies[t];n.showClasses=n.showClasses.concat(a.showClasses),e.classList.remove(...n.showClasses)}}function S(){return a.onInstall&&a.onInstall(),!l||a.debug&&"native"!==C()?function(e){let n=C(true);f("showing platform guidance for: "+n);let o=document.querySelector(`.${a.customPromptElements.container}`);if(o){r&&clearTimeout(r);{let e=Object.assign({},t,a.customPromptContent,a.customPromptPlatformDependencies[n]);if(e.targetUrl)location.replace(e.targetUrl);else{if(e.images&&e.images.length>0){let t=o.querySelector(`.${a.customPromptElements.banner}`),n=o.querySelector(`.${a.customPromptElements.guidance}`),s=o.querySelector(`.${a.customPromptElements.guidanceImageCell}`),i=o.querySelector(`.${a.customPromptElements.guidanceCancelButton}`);t.classList.add(a.hideClass),n.classList.add(a.showClass);for(let t=0;t<e.images.length;t++){let n=new Image;n.src=e.images[t].src,n.alt=e.images[t].alt,e.images[t].classes&&n.classList.add(...e.images[t].classes),s.appendChild(n)}i&&(i.addEventListener("click",E),i.classList.remove(a.hideClass),i.innerText=null!=e.guidanceCancelMsg?e.guidanceCancelMsg:e.action&&e.action.guidanceCancel?e.action.guidanceCancel:"")}(function(e){let t=e.getBoundingClientRect();return 0!==t.width&&0!==t.height})(o)||(o.classList.add(...e.showClasses),o.classList.remove(a.hideClass));let t=a.lifespan>=10?a.lifespan:10;r=setTimeout(x,1e3*t)}}}}():(A(),O()),!1}function x(){let e=document.querySelector(`.${a.customPromptElements.container}`);A(),e&&e.classList.add(a.hideClass)}return(0,o.useEffect)((function(){"onbeforeinstallprompt"in window&&(f("add beforeinstallprompt listener"),window.addEventListener("beforeinstallprompt",b),p=!0),"onappinstalled"in window&&window.addEventListener("appinstalled",(function(e){f("A2HS installed"),c.added=!0,h(),a.onInstall&&a.onInstall.call(this)})),function(){let e=window.navigator.userAgent;f("checking platform - found user agent: "+e),d.isIDevice=/iphone|ipod|ipad/i.test(e),d.isSamsung=/Samsung/i.test(e),d.isFireFox=/Firefox/i.test(e),d.isOpera=/opr/i.test(e),d.isEdge=/edg/i.test(e),d.isFireFox&&(d.isFireFox=/android/i.test(e)),d.isOpera&&(d.isOpera=/android/i.test(e)),d.isChromium="onbeforeinstallprompt"in window,d.isInWebAppiOS=!0===window.navigator.standalone,d.isInWebAppChrome=window.matchMedia("(display-mode: standalone)").matches,d.isMobileSafari=d.isIDevice&&e.indexOf("Safari")>-1&&e.indexOf("CriOS")<0,d.isStandalone=d.isInWebAppiOS||d.isInWebAppChrome,d.isiPad=d.isMobileSafari&&e.indexOf("iPad")>-1,d.isiPhone=d.isMobileSafari&&-1===e.indexOf("iPad"),d.isCompatible=d.isChromium||d.isMobileSafari||d.isSamsung||d.isFireFox||d.isOpera}();let e=window.localStorage.getItem(a.appId);c=e?JSON.parse(e):n,c&&c.added||("serviceWorker"in navigator?(document.querySelector("[rel='manifest']")||(f("no manifest file"),d.isCompatible=!1),setTimeout((function(){navigator.serviceWorker.getRegistration().then(g),function(e){for(let t in e)if(e.hasOwnProperty(t)){let n=e[t].targetUrl;f("building guidance urls: "+t+n?"/"+n:0),n&&m.push(n)}}(a.customPromptPlatformDependencies)}),1e3)):g({}))}),[]),s().createElement("div",{className:`${a.customPromptElements.container} ${a.customPromptElements.containerAddOns}`},s().createElement("div",{className:`${a.customPromptElements.banner} ${a.customPromptElements.bannerAddOns}`},s().createElement("div",{className:`${a.customPromptElements.logoCell} ${a.customPromptElements.logoCellAddOns}`},s().createElement("img",{alt:"Application Logo",className:`${a.customPromptElements.logo} ${a.customPromptElements.logoAddOns}`})),s().createElement("div",{className:`${a.customPromptElements.titleCell} ${a.customPromptElements.titleCellAddOns}`},s().createElement("div",{className:`${a.customPromptElements.title} ${a.customPromptElements.titleAddOns}`})),s().createElement("div",{className:`${a.customPromptElements.cancelButtonCell} ${a.customPromptElements.cancelButtonCellAddOns}`},s().createElement("button",{className:`${a.customPromptElements.cancelButton} ${a.customPromptElements.cancelButtonAddOns}`},"Not Now")),s().createElement("div",{className:`${a.customPromptElements.installButtonCell} ${a.customPromptElements.installButtonCellAddOns}`},s().createElement("button",{className:`${a.customPromptElements.installButton} ${a.customPromptElements.installButtonAddOns}`},"Install"))),s().createElement("div",{className:`${a.customPromptElements.guidance} ${a.customPromptElements.guidanceAddOns}`},s().createElement("div",{className:`${a.customPromptElements.guidanceImageCell} ${a.customPromptElements.guidanceImageCellAddOns}`}),s().createElement("div",{className:`${a.customPromptElements.cancelButtonCell} ${a.customPromptElements.cancelButtonCellAddOns}`},s().createElement("button",{className:`${a.customPromptElements.guidanceCancelButton} ${a.customPromptElements.guidanceCancelButtonAddOns}`},"Close"))))}const w=t().shape({showClasses:t().arrayOf(t().string),targetUrl:t().string,images:t().arrayOf(t().shape({src:t().string,alt:t().string})),action:t().shape({ok:t().string,cancel:t().string,guidanceCancel:t().string})});P.propTypes={appId:t().string,debug:t().string,activateLogging:t().bool,startAutomatically:t().bool,skipFirstVisit:t().bool,minPageViews:t().number,startDelay:t().number,lifespan:t().number,displayPace:t().number,mustShowCustomPrompt:t().bool,maxDisplayCount:t().number,validLocation:t().arrayOf(t().string),onInit:t().func,onShow:t().func,onAdd:t().func,onInstall:t().func,onCancel:t().func,showClasses:t().arrayOf(t().string),showClass:t().string,hideClass:t().string,customCriteria:t().func,customPromptContent:t().shape({title:t().string,src:t().string,cancelMsg:t().string,installMsg:t().string,guidanceCancelMsg:t().string}),customPromptElements:t().shape({container:t().string,containerAddOns:t().string,banner:t().string,bannerAddOns:t().string,logoCell:t().string,logoCellAddOns:t().string,logo:t().string,logoAddOns:t().string,titleCell:t().string,titleCellAddOns:t().string,title:t().string,titleAddOns:t().string,cancelButtonCell:t().string,cancelButtonCellAddOns:t().string,cancelButton:t().string,cancelButtonAddOns:t().string,installButtonCell:t().string,installButtonCellAddOns:t().string,installButton:t().string,installButtonAddOns:t().string,guidance:t().string,guidanceAddOns:t().string,guidanceImageCell:t().string,guidanceImageCellAddOns:t().string,guidanceCancelButton:t().string,guidanceCancelButtonAddOns:t().string}),customPromptPlatformDependencies:t().shape({native:w,chromium:w,edge:w,iphone:w,ipad:w,firefox:w,samsung:w,opera:w})}})(),a})()));